let users = [
  {
    name: 'test1',
    email: 'test1@indusaction.org',
    mobile: '9999999901',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Goa',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
          ],
        },
        {
          state: 'Gujarat',
          features: [
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test2',
    email: 'test2@indusaction.org',
    mobile: '9999999902',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Assam',
          features: [
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test3',
    email: 'test3@indusaction.org',
    mobile: '9999999903',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Rajasthan',
          features: [
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test4',
    email: 'test4@indusaction.org',
    mobile: '9999999904',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {},
  },
  {
    name: 'test5',
    email: 'test5@indusaction.org',
    mobile: '9999999905',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test6',
    email: 'test6@indusaction.org',
    mobile: '9999999906',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Chhattisgarh',
          features: [
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test7',
    email: 'test7@indusaction.org',
    mobile: '9999999907',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Telangana',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test8',
    email: 'test8@indusaction.org',
    mobile: '9999999908',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Chhattisgarh',
          features: [
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test9',
    email: 'test9@indusaction.org',
    mobile: '9999999909',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Manipur',
          features: [
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test10',
    email: 'test10@indusaction.org',
    mobile: '9999999910',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test11',
    email: 'test11@indusaction.org',
    mobile: '9999999911',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Goa',
          features: [
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
        {
          state: 'Chhattisgarh',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test12',
    email: 'test12@indusaction.org',
    mobile: '9999999912',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Chhattisgarh',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
          ],
        },
        {
          state: 'Gujarat',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test13',
    email: 'test13@indusaction.org',
    mobile: '9999999913',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Punjab',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
        {
          state: 'Meghalaya',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test14',
    email: 'test14@indusaction.org',
    mobile: '9999999914',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
        {
          state: 'Punjab',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
            {
              featureId: 'Form Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test15',
    email: 'test15@indusaction.org',
    mobile: '9999999915',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Meghalaya',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
          ],
        },
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Task Management',
              permissions: [],
            },
            {
              featureId: 'Chatbot Management',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test16',
    email: 'test16@indusaction.org',
    mobile: '9999999916',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test17',
    email: 'test17@indusaction.org',
    mobile: '9999999917',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test18',
    email: 'test18@indusaction.org',
    mobile: '9999999918',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test19',
    email: 'test19@indusaction.org',
    mobile: '9999999919',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test20',
    email: 'test20@indusaction.org',
    mobile: '9999999920',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test21',
    email: 'test21@indusaction.org',
    mobile: '9999999921',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test22',
    email: 'test22@indusaction.org',
    mobile: '9999999922',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test23',
    email: 'test23@indusaction.org',
    mobile: '9999999923',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test24',
    email: 'test24@indusaction.org',
    mobile: '9999999924',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test25',
    email: 'test25@indusaction.org',
    mobile: '9999999925',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test26',
    email: 'test26@indusaction.org',
    mobile: '9999999926',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test27',
    email: 'test27@indusaction.org',
    mobile: '9999999927',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test28',
    email: 'test28@indusaction.org',
    mobile: '9999999928',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test29',
    email: 'test29@indusaction.org',
    mobile: '9999999929',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test30',
    email: 'test30@indusaction.org',
    mobile: '9999999930',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test31',
    email: 'test31@indusaction.org',
    mobile: '9999999931',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test32',
    email: 'test32@indusaction.org',
    mobile: '9999999932',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test33',
    email: 'test33@indusaction.org',
    mobile: '9999999933',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test34',
    email: 'test34@indusaction.org',
    mobile: '9999999934',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
  {
    name: 'test35',
    email: 'test35@indusaction.org',
    mobile: '9999999935',
    password: '$2a$10$XXkscWYOcSog0KUD90VFFelKv12B9JXnE9uLgD8eJ590cZqKSG9j6',
    config: {
      featureConfig: [
        {
          state: 'Uttarakhand',
          features: [
            {
              featureId: 'Missed Call Assignment',
              permissions: [],
            },
          ],
        },
      ],
    },
  },
];

const modifyUsers = (data) => {
  let usersTemp = [...data];
  usersTemp = usersTemp.map((innerData) => {
    user = { ...innerData };
    delete user.password;
    delete user.config;
    return user;
  });
  return usersTemp;
};

const seedUsers = knex => knex('users')
    .then(async () => {
      const statesList = {};
      const featuresList = {};
      (await knex.from('states').select('id', 'name')).map(({ name, id }) => {
        statesList[name] = id;
        return 0;
      });
      (await knex.from('features').select('id', 'name')).map(({ id, name }) => {
        featuresList[name] = id;
        return 0;
      });
      users = users.map((user) => {
        const temp = { ...user };
        if (user.config.featureConfig) {
          user.config.featureConfig.map(({ state, features }, i) => {
            temp.config.featureConfig[i].state = statesList[state];
            features.map(({ featureId }, j) => {
              temp.config.featureConfig[i].features[j].featureId = featuresList[featureId];
              return 0;
            });
            return 0;
          });
        }
        return temp;
      });
      await knex('users').insert([...users]);
    })
    .catch((e) => {
      console.error(e);
    });

exports.seed = seedUsers;
exports.modify = modifyUsers;
exports.values = users;
